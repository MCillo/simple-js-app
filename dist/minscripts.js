"use strict"; let pokemonRepository = function () { let e = []; function t(t) { "object" == typeof t && "name" in t ? e.push(t) : console.log("Pokemon Data is incorrect. Please try again.") } function n() { return e } function o(e) { i(e).then(function () { var t; t = e, document.querySelector(".modal-body"), document.querySelector(".modal-title").innerText = t.name + " # " + t.id, document.querySelector(".pokemon-image").src = t.imageUrl, document.querySelector(".pokemon-height").innerText = "Height: " + t.height + " m", document.querySelector(".pokemon-weight").innerText = "Weight: " + t.weight + " kg" }) } function i(e) { return fetch(e.detailsUrl).then(function (e) { return e.json() }).then(function (t) { e.imageUrl = t.sprites.front_default, e.height = t.height, e.weight = t.weight, e.types = t.types, e.id = t.id }).catch(function (e) { console.error(e) }) } let r = document.querySelector("#search-field"); return r.addEventListener("input", function () { pokemonRepository.searchPokemon(r) }), { add: t, getAll: n, loadList: function e() { return fetch("https://pokeapi.co/api/v2/pokemon/?limit=1000").then(function (e) { return e.json() }).then(function (e) { e.results.forEach(function (e) { let n = { name: e.name, detailsUrl: e.url }; t(n), console.log(n) }) }).catch(function (e) { console.error(e) }) }, loadDetails: i, addListItem: function e(t) { let n = document.querySelector(".pokemon-list"), i = document.createElement("li"); i.classList.add("list-group-item"); let r = document.createElement("button"); r.innerText = t.name, r.classList.add("btn-primary"), r.setAttribute("data-toggle", "modal"), r.setAttribute("data-target", "#exampleModal"), i.appendChild(r), n.appendChild(i), r.addEventListener("click", function (e) { o(t) }) }, showDetails: o, searchPokemon: function t(n) { let o = n.value.toLowerCase(), i = e.filter(function (e) { return e.name.toLowerCase().indexOf(o) > -1 }); document.querySelector(".pokemon-list").innerHTML = "", i.forEach(function (e) { pokemonRepository.addListItem(e) }) } } }(); pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(function (e) { pokemonRepository.addListItem(e) }) });